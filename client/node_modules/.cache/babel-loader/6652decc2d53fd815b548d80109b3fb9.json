{"ast":null,"code":"var _jsxFileName = \"/workspace/spring-petclinic/client/src/components/SearchMovie.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useLazyQuery, gql } from \"@apollo/client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GET_MOVIE_BYNAME = gql`\n  query Movie($name: String!) {\n    movie(name: $name) {\n      name\n      yearOfPublication\n    }\n  }\n`;\n\nfunction SearchMovie() {\n  _s();\n\n  var _movieSearchedData$mo, _movieSearchedData$mo2;\n\n  const [movieSearched, setMovieSearched] = useState(\"\");\n  const [fetchMovie, {\n    data: movieSearchedData,\n    loading,\n    error\n  }] = useLazyQuery(GET_MOVIE_BYNAME);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading Data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (error) {\n    console.log(error);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" Search Movie\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: event => {\n          setMovieSearched(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          console.log(movieSearchedData);\n          fetchMovie({\n            variables: {\n              name: movieSearched\n            }\n          });\n        },\n        children: [\"M2 Fetch Movie\", \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), movieSearchedData && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Movie Name: \", movieSearchedData === null || movieSearchedData === void 0 ? void 0 : (_movieSearchedData$mo = movieSearchedData.movie) === null || _movieSearchedData$mo === void 0 ? void 0 : _movieSearchedData$mo.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Year Of Publication: \", movieSearchedData === null || movieSearchedData === void 0 ? void 0 : (_movieSearchedData$mo2 = movieSearchedData.movie) === null || _movieSearchedData$mo2 === void 0 ? void 0 : _movieSearchedData$mo2.yearOfPublication]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"There was an error fetching the data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SearchMovie, \"AqPcWzi21Ik4B4FAaFsTqdcOmFc=\", false, function () {\n  return [useLazyQuery];\n});\n\n_c = SearchMovie;\nexport default SearchMovie;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchMovie\");","map":{"version":3,"sources":["/workspace/spring-petclinic/client/src/components/SearchMovie.js"],"names":["React","useState","useLazyQuery","gql","GET_MOVIE_BYNAME","SearchMovie","movieSearched","setMovieSearched","fetchMovie","data","movieSearchedData","loading","error","console","log","event","target","value","variables","name","movie","yearOfPublication"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,YAAT,EAAuBC,GAAvB,QAAkC,gBAAlC;;AAEA,MAAMC,gBAAgB,GAAGD,GAAI;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,CAPA;;AASA,SAASE,WAAT,GAAuB;AAAA;;AAAA;;AACrB,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCN,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACO,UAAD,EAAa;AAAEC,IAAAA,IAAI,EAAEC,iBAAR;AAA2BC,IAAAA,OAA3B;AAAoCC,IAAAA;AAApC,GAAb,IACJV,YAAY,CAACE,gBAAD,CADd;;AAEA,MAAIO,OAAJ,EAAa;AACX,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AACD,MAAIC,KAAJ,EAAW;AACTC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;;AACD,sBACE;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA,8BACE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,QAAQ,EAAGG,KAAD,IAAW;AACnBR,UAAAA,gBAAgB,CAACQ,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAhB;AACD;AAJH;AAAA;AAAA;AAAA;AAAA,cADF,eAQE;AACE,QAAA,OAAO,EAAE,MAAM;AACbJ,UAAAA,OAAO,CAACC,GAAR,CAAYJ,iBAAZ;AACAF,UAAAA,UAAU,CAAC;AACTU,YAAAA,SAAS,EAAE;AACTC,cAAAA,IAAI,EAAEb;AADG;AADF,WAAD,CAAV;AAKD,SARH;AAAA,qCAUiB,GAVjB;AAAA;AAAA;AAAA;AAAA;AAAA,cARF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAuBGI,iBAAiB,iBAChB;AAAA,8BACE;AAAA,mCAAiBA,iBAAjB,aAAiBA,iBAAjB,gDAAiBA,iBAAiB,CAAEU,KAApC,0DAAiB,sBAA0BD,IAA3C;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA,4CACwBT,iBADxB,aACwBA,iBADxB,iDACwBA,iBAAiB,CAAEU,KAD3C,2DACwB,uBAA0BC,iBADlD;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YAxBJ,EA+BGT,KAAK,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YA/BZ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAmCD;;GA7CQP,W;UAGLH,Y;;;KAHKG,W;AA+CT,eAAeA,WAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { useLazyQuery, gql } from \"@apollo/client\";\n\nconst GET_MOVIE_BYNAME = gql`\n  query Movie($name: String!) {\n    movie(name: $name) {\n      name\n      yearOfPublication\n    }\n  }\n`;\n\nfunction SearchMovie() {\n  const [movieSearched, setMovieSearched] = useState(\"\");\n  const [fetchMovie, { data: movieSearchedData, loading, error }] =\n    useLazyQuery(GET_MOVIE_BYNAME);\n  if (loading) {\n    return <h1>Loading Data</h1>;\n  }\n  if (error) {\n    console.log(error);\n  }\n  return (\n    <div>\n      <h1> Search Movie</h1>\n      <div>\n        <input\n          type=\"text\"\n          onChange={(event) => {\n            setMovieSearched(event.target.value);\n          }}\n        />\n        {/* <button onClick={fetchMovie}>M1 Fetch Movie </button> */}\n        <button\n          onClick={() => {\n            console.log(movieSearchedData);\n            fetchMovie({\n              variables: {\n                name: movieSearched,\n              },\n            });\n          }}\n        >\n          M2 Fetch Movie{\" \"}\n        </button>\n      </div>\n      {movieSearchedData && (\n        <div>\n          <h1>Movie Name: {movieSearchedData?.movie?.name}</h1>\n          <h1>\n            Year Of Publication: {movieSearchedData?.movie?.yearOfPublication}\n          </h1>\n        </div>\n      )}\n      {error && <div>There was an error fetching the data</div>}\n    </div>\n  );\n}\n\nexport default SearchMovie;\n"]},"metadata":{},"sourceType":"module"}